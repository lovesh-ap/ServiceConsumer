# ============================================
# SERVER CONFIGURATION (Tomcat)
# ============================================
server.port=8080
server.servlet.context-path=/

# Tomcat Thread Pool - Realistic size (will starve over time under load)
server.tomcat.threads.max=20
server.tomcat.threads.min-spare=10
server.tomcat.accept-count=100
server.tomcat.max-connections=200
server.tomcat.connection-timeout=20000


# ============================================
# APPLICATION PROPERTIES
# ============================================
app.name=ServiceConsumer
app.version=1.0.0

# SlowDependency Service URL
dependency.service.url=http://localhost:8081/api/data

# HTTP Client Timeouts
http.client.connect-timeout=2000
http.client.read-timeout=3000


# ============================================
# LOGGING CONFIGURATION
# ============================================
logging.level.root=INFO
logging.level.com.example.serviceconsumer=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.apache.tomcat=INFO

# Log pattern with thread name AND request ID
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{requestId}] %-5level %logger{36} - %msg%n

# Log file configuration - 50MB per file, 5 files max (250MB total)
logging.file.name=logs/serviceconsumer.log
logging.file.max-size=50MB
logging.file.max-history=5
logging.file.total-size-cap=250MB
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{requestId}] %-5level %logger{36} - %msg%n


# ============================================
# SPRING BOOT ACTUATOR (Minimal - Option A)
# ============================================
# Expose only: health, metrics, threaddump
management.endpoints.web.exposure.include=health,metrics,threaddump

# Health endpoint configuration
management.endpoint.health.show-details=always

# Enable metrics for Tomcat, JVM
management.metrics.enable.tomcat=true
management.metrics.enable.jvm=true

# Application info
management.info.env.enabled=true
info.app.name=${app.name}
info.app.version=${app.version}
info.app.description=ServiceConsumer - Demonstrates thread pool starvation
